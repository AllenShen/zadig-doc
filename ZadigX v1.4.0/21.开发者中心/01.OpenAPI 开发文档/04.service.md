---
title: 服务
date: 2023-04-18 17:22:07
permalink: /ZadigX v1.4.0/api/service/
---

## 从模板创建服务

> 仅适用于从 K8s YAML 模板创建服务。

### 请求

```
POST /openapi/service/template/load/yaml
```

### body 参数说明

|参数名|说明|类型|必填|
|----------------|-------------------|---|---|
|`service_name`  |服务名称|string|是|
|`project_key` |项目标识| string|是|
|`template_name`   | K8s Yaml 模板名称| string|是|
|`auto_sync` |自动同步开关| bool|否|
|`variable_yaml` |模板中的变量信息| [][KeyVal](#KeyVal)|否|

<h4 id="KeyVal">KeyVal 参数说明</h4>

|参数名|说明|类型|必填|
|---|---|---|---|
|`key`|变量的键值|string|是|
|`value`|变量的值，若有嵌套值，使用 json 格式|any|是|

### body 参数示例

使用模板 `microservice-template` 为项目 `demo` 创建服务 `service1`：

``` json
{
    "service_name": "service1",
    "project_key":"demo",
    "template_name": "microservice-template",
    "auto_sync": true,
    "variable_yaml": [
        {
            "key": "cpuLimit",
            "value": "100m"
        },
        {
            "key": "memoryLimit",
            "value": "100Mi"
        },
        {
            "key": "port",
            "value": "20221"
        }
    ]
}
```

### 返回

```json
{
  "message": "success"
}
```